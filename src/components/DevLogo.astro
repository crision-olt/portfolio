---
import { Skills } from '../types';
export const devIcons: Record<Skills, string> = {
  [Skills.JavaScript]: "/images/dev-logos/javascript.svg",
  [Skills.TypeScript]: "/images/dev-logos/typescript.svg",
  [Skills.React]: "/images/dev-logos/react.svg",
  [Skills.Nextjs]: "/images/dev-logos/nextjs.png",
  [Skills.Redux]: "/images/dev-logos/redux.svg",
  [Skills.GraphQL]: "/images/dev-logos/graphql.svg",
  [Skills.Zod]: "/images/dev-logos/zod.svg",
  [Skills.Vite]: "/images/dev-logos/vite.svg",
  [Skills.Vitest]: "/images/dev-logos/vitest.svg",
  [Skills.Webpack]: "/images/dev-logos/webpack.svg",
  [Skills.Jest]: "/images/dev-logos/jest.svg",
  [Skills.ReactQuery]: "/images/dev-logos/react-query.svg",
  [Skills.Apollo]: "/images/dev-logos/apollo.svg",
  [Skills.ReactRouter]: "/images/dev-logos/react-router.svg",
  [Skills.TestingLibrary]: "/images/dev-logos/testing-library.svg",
  [Skills.Astro]: "/images/dev-logos/astro.png",
  [Skills.Nodejs]: "/images/dev-logos/nodejs.svg",
  [Skills.HTML]: "/images/dev-logos/html.svg",
  [Skills.CSS]: "/images/dev-logos/css.svg",
  [Skills.Sass]: "/images/dev-logos/sass.svg",
  [Skills.TailwindCSS]: "/images/dev-logos/tailwind.svg",
  [Skills.Linux]: "/images/dev-logos/linux.svg",
  [Skills.Docker]: "/images/dev-logos/docker.svg",
  [Skills.Git]: "/images/dev-logos/git.svg",
  [Skills.Figma]: "/images/dev-logos/figma.svg",
  [Skills.SonarQube]: "/images/dev-logos/sonar-qube.svg",
  [Skills.VSCode]: "/images/dev-logos/vs-code.svg",
  [Skills.Webstorm]: "/images/dev-logos/webstorm.svg",
  [Skills.Yarn]: "/images/dev-logos/yarn.svg",
  [Skills.AdobePhotoshop]: "/images/dev-logos/ps.svg",
  [Skills.AdobeXD]: "/images/dev-logos/xd.svg",
  [Skills.AWS]: "/images/dev-logos/aws.svg",
  [Skills.Directus]: "/images/dev-logos/directus.svg",
  [Skills.Mocha]: "/images/dev-logos/mocha.svg",
  [Skills.MongoDB]: "/images/dev-logos/mongodb.svg",
  [Skills.MySQL]: "/images/dev-logos/mysql.svg",
  [Skills.PostgreSQL]: "/images/dev-logos/postgresql.svg",
  [Skills.PHP]: "/images/dev-logos/php.svg",
  [Skills.Python]: "/images/dev-logos/python.svg",
  [Skills.Redis]: "/images/dev-logos/redis.svg",
  [Skills.SanityCMS]: "/images/dev-logos/sanitycms.png",
  [Skills.Selenium]: "/images/dev-logos/selenium.svg",
  [Skills.WordPress]: "/images/dev-logos/wordpress.svg",
}

interface Props {
  icon: Skills;
  size?: number;
}

const { icon, size = 60 } = Astro.props;

const logo = devIcons[icon];

if (!logo) {
  throw new Error(`${icon} does not exist in devIcons`);
}
---

<img
  class="devicon"
  src={logo}
  alt={icon}
  title={icon}
  width={size + "px"}
  height={size + "px"}
/>

<script>
  import tippy, { createSingleton } from 'tippy.js';

  const tippyInstances = tippy(".devicon", {
    content: (reference: any) => reference.getAttribute("title"),
  });

  const singleton = createSingleton(tippyInstances, {
    moveTransition: 'transform 0.2s ease-out',
  });

  singleton.enable();
</script>
